<!DOCTYPE html>
<html lang="en" class="h-full bg-gray-50 antialiased">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>About • Agrovoltaicos sin Fronteras</title>
  <meta name="description" content="Learn about the Agrovoltaicos sin Fronteras seminar series.">

  <!-- Critical pre-render script to prevent UI flicker -->
  <script src="auth-preloader.js"></script>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Plus+Jakarta+Sans:wght@500;600;700;800&display=swap" rel="stylesheet">

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="styles.css">

  <!-- External Tailwind Config (Extracted) -->
  <script src="theme.js"></script>
  
  <!-- Custom CSS -->
  <style type="text/tailwindcss">
    @layer utilities {
      .no-scrollbar::-webkit-scrollbar { display: none; }
      .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
      
      .custom-scrollbar::-webkit-scrollbar { width: 6px; height: 6px; }
      .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
      .custom-scrollbar::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; border: 2px solid transparent; background-clip: content-box; }
      .custom-scrollbar:hover::-webkit-scrollbar-thumb { background: #94a3b8; border: 2px solid transparent; background-clip: content-box; }
    }

    html, body { height: 100%; overflow: hidden; }
    .cubic-bezier { transition-timing-function: cubic-bezier(0.32, 0.72, 0, 1); }
    
    /* Markdown Styles */
    .prose p { margin-bottom: 1em; line-height: 1.7; color: #475569; }
    .prose h2 { color: #0f172a; font-weight: 700; margin-top: 1.5em; margin-bottom: 0.5em; font-family: 'Plus Jakarta Sans', sans-serif; font-size: 1.5rem; }
    .prose a { color: #0369a1; text-decoration: underline; text-decoration-color: #bae6fd; text-underline-offset: 2px; font-weight: 600; }
  </style>

  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>
</head>

<body class="text-slate-800 flex flex-col h-full overflow-hidden selection:bg-brand-100 selection:text-brand-900 font-sans">

  <!-- Note: Header is injected by layout.js -->

  <!-- ================= MAIN CONTENT ================= -->
  <main class="flex-1 relative overflow-hidden bg-gray-50">
    <div class="absolute inset-0 flex flex-col overflow-hidden">
      <div class="flex-1 overflow-y-auto custom-scrollbar">
        
        <!-- Container matches Archive.html: max-w-[1800px] -->
        <div class="max-w-[1800px] mx-auto px-4 sm:px-6 flex flex-col gap-6 py-6 pb-16">
            
            <!-- Main Card -->
            <div class="bg-white rounded-[1.5rem] border border-gray-200 shadow-sm overflow-hidden">
              
              <!-- Hero Image (Reduced height ~30%) -->
              <div class="relative h-48 md:h-64 w-full group">
                 <img src="static/agrivUA.jpg" 
                      alt="Agrivoltaic solar panels over a field of crops at the University of Arizona"
                      class="w-full h-full object-cover">
                 <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"></div>
                 <div class="absolute bottom-6 left-6 md:left-10 text-white">
                    <h1 class="font-display font-bold text-3xl md:text-4xl tracking-tight mb-1 drop-shadow-md">About the Seminar</h1>
                    <p class="text-sm md:text-base opacity-90 font-medium drop-shadow-sm">Bridging research across the Americas</p>
                 </div>
              </div>

              <!-- Content Text Area (Full width) -->
              <div class="p-8 md:p-12 w-full">
                
                <!-- English Content -->
                <div class="prose prose-lg max-w-none animate-fade-in" data-lang-content="en">
                  <h2>What is Agrivoltaics?</h2>
                  <p>
                    Agrivoltaics is the integration of solar photovoltaics with agricultural production in the same space. 
                    Agrivoltaics is a highly diverse field that can include energy production from household to utility scale, 
                    and agricultural production from horticulture to field crops to livestock and more. Topics covered in this 
                    seminar series will include agrivoltaic system design, crop yield and responses, business models, community 
                    engagement, governance and legal frameworks, and much more.
                  </p>

                  <h2>Attend the seminars:</h2>
                  <p>
                    To attend the seminars, simply 
                    <a href="https://arizona.zoom.us/meeting/register/rFJXhrYpQL2Vcw30vlxwyA" 
                       target="_blank" rel="noopener noreferrer">register here</a> 
                    and you will receive the zoom meeting link to your email. This link will work for all future seminars, 
                    so you only need to register once.
                  </p>

                  <h2>Contact Us:</h2>
                  <p>
                    Agrovoltaicos sin Fronteras is jointly hosted by UNAM and the University of Arizona. 
                    For more information, please contact Christine Lamanna 
                    <a href="mailto:clamanna@arizona.edu">clamanna@arizona.edu</a>.
                  </p>
                </div>

                <!-- Spanish Content -->
                <div class="prose prose-lg max-w-none hidden animate-fade-in" data-lang-content="es">
                  <h2>¿Qué son los Agrovoltaicos?</h2>
                  <p>
                    Los Agrovoltaicos son la integración de la energía solar fotovoltaica con la producción agrícola en un mismo espacio. 
                    Es un campo muy diverso que abarca la producción de energía desde el hogar hasta la escala de servicios públicos, 
                    y la producción agrícola desde la horticultura hasta los cultivos extensivos, la ganadería y más. 
                    Los temas que se abordarán en esta serie de seminarios incluirán el diseño de sistemas agrovoltaicos, 
                    el rendimiento y las respuestas de los cultivos, los modelos de negocio, la participación comunitaria, 
                    la gobernanza y los marcos legales, y mucho más.
                  </p>

                  <h2>Asista a los seminarios:</h2>
                  <p>
                    Para asistir a los seminarios, simplemente 
                    <a href="https://arizona.zoom.us/meeting/register/rFJXhrYpQL2Vcw30vlxwyA" 
                       target="_blank" rel="noopener noreferrer">regístrese aquí</a> 
                    y recibirá el enlace de la reunión de Zoom en su correo electrónico. 
                    Este enlace funcionará para todos los seminarios futuros, por lo que solo necesita registrarse una vez.
                  </p>

                  <h2>Contáctenos:</h2>
                  <p>
                    Agrovoltaicos sin Fronteras es un evento conjunto de la UNAM y la Universidad de Arizona. 
                    Para obtener más información, comuníquese con Christine Lamanna 
                    <a href="mailto:clamanna@arizona.edu">clamanna@arizona.edu</a>.
                  </p>
                </div>

              </div>
            </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Note: Footer is injected by layout.js -->

  <!-- ================= JAVASCRIPT LOGIC ================= -->
  <script type="module">
    import { renderLayout } from './layout.js';
    import { authState, initAuth, signOut } from './auth.js';
    import { initSharedUI, renderHeader, applyI18n, tr, $$, show, hide, getAvatarUrl } from './ui.js';

    // Inject Layout (About Active)
    renderLayout('about');

    const state = { language: localStorage.getItem("lang") || "en" };
    // Merged translations (Auth/Nav/Footer removed as they are in layout.js)
    const t = {
      en: { tagline: "A seminar series to share advances in agrivoltaics in the Americas" },
      es: { tagline: "Una serie de seminarios para compartir avances en agrovoltaicos en las Américas" }
    };
    
    function applyPageI18n() {
        // Apply global strings (like tagline in header which is injected)
        applyI18n(t, state.language); 
        
        const s = document.querySelector('#langSwitchDesktop div:last-child');
        if(s) {
            s.style.transform = state.language === 'es' ? 'translateX(100%)' : 'translateX(0)';
            s.innerText = state.language.toUpperCase();
        }

        $$("[data-lang-content]").forEach(el => {
            if (el.dataset.langContent === state.language) show(el);
            else hide(el);
        });
    }

    function handleLangSwitch() { 
      state.language = state.language === 'en' ? 'es' : 'en'; 
      localStorage.setItem("lang", state.language); 
      applyPageI18n();
    }
    
    (async function main() {
      initSharedUI({ onLangSwitch: handleLangSwitch, onSignOut: signOut });
      
      // --- Fix: Global listener for dynamically injected header profile link ---
      document.addEventListener('click', e => {
        if (e.target.closest('#btnProfile') || e.target.closest('#userName')) {
            window.location.href = 'profile.html';
        }
      });
      // -----------------------------------------------------------------------

      await initAuth({ 
          onAuthReady: () => {
              // Still need renderHeader to handle Auth UI state (signin/signout buttons)
              renderHeader(authState, t, state.language);
              const y = document.getElementById('year'); if(y) y.innerText = new Date().getFullYear();
              if(authState.profile?.avatar_url) {
                  getAvatarUrl(authState.profile.avatar_url).then(url => {
                      const img = document.getElementById('userAvatar');
                      if(url && img) { img.src = url; show(img); hide(document.getElementById('userInitial')); }
                  });
              }
          }, 
          onAuthChange: () => renderHeader(authState, t, state.language) 
      });
      applyPageI18n();
      const y = document.getElementById('year'); if(y) y.innerText = new Date().getFullYear();
    })();
  </script>

</body>
</html>